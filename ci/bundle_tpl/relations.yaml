    - - nova-compute:amqp
      - rabbitmq-server:amqp
    - - neutron-gateway:amqp
      - rabbitmq-server:amqp
    - - keystone:shared-db
      - mysql:shared-db
    - - nova-cloud-controller:identity-service
      - keystone:identity-service
    - - glance:identity-service
      - keystone:identity-service
    - - neutron-api:identity-service
      - keystone:identity-service
    - - neutron-api:shared-db
      - mysql:shared-db
    - - neutron-api:amqp
      - rabbitmq-server:amqp
    - - neutron-gateway:neutron-plugin-api
      - neutron-api:neutron-plugin-api
    - - glance:shared-db
      - mysql:shared-db
    - - glance:amqp
      - rabbitmq-server:amqp
    - - nova-cloud-controller:image-service
      - glance:image-service
    - - nova-compute:image-service
      - glance:image-service
    - - nova-cloud-controller:cloud-compute
      - nova-compute:cloud-compute
    - - nova-cloud-controller:amqp
      - rabbitmq-server:amqp
    - - nova-cloud-controller:quantum-network-service
      - neutron-gateway:quantum-network-service
    - - openstack-dashboard:identity-service
      - keystone:identity-service
    - - nova-cloud-controller:shared-db
      - mysql:shared-db
    - - nova-cloud-controller:neutron-api
      - neutron-api:neutron-api
    - - cinder:image-service
      - glance:image-service
    - - cinder:amqp
      - rabbitmq-server:amqp
    - - cinder:identity-service
      - keystone:identity-service
    - - cinder:cinder-volume-service
      - nova-cloud-controller:cinder-volume-service
    - - cinder-ceph:storage-backend
      - cinder:storage-backend
    - - ceph:client
      - nova-compute:ceph
    - - cinder:shared-db
      - mysql:shared-db
    - - ceph:client
      - cinder-ceph:ceph
    - - ceph:client
      - glance:ceph
    - - ceph-osd:mon
      - ceph:osd
    - - ntp:juju-info
      - nova-compute:juju-info
    - - ntp:juju-info
      - neutron-gateway:juju-info
    - - ceph-radosgw:mon
      - ceph:radosgw
    - - ceph-radosgw:identity-service
      - keystone:identity-service
    - - ceilometer:amqp
      - rabbitmq-server:amqp
    - - ceilometer-agent:ceilometer-service
      - ceilometer:ceilometer-service
    - - ceilometer:identity-service
      - keystone:identity-service
    - - ceilometer:identity-notifications
      - keystone:identity-notifications
    - - ceilometer-agent:nova-ceilometer
      - nova-compute:nova-ceilometer
    - - ceilometer:shared-db
      - mongodb:database
    - - heat:shared-db
      - mysql:shared-db
    - - heat:identity-service
      - keystone:identity-service
    - - heat:amqp
      - rabbitmq-server:amqp
    - - congress:shared-db
      - mysql:shared-db
    - - congress:identity-service
      - keystone:identity-service
    - - congress:amqp
      - rabbitmq-server:amqp
{% if os.lxd %}
    - - nova-compute:lxd
      - lxd:lxd
{% endif %}
{% if os.network.controller == 'nosdn' %}
    - - neutron-openvswitch:amqp
      - rabbitmq-server:amqp
    - - nova-compute:neutron-plugin
      - neutron-openvswitch:neutron-plugin
    - - neutron-openvswitch:neutron-plugin-api
      - neutron-api:neutron-plugin-api
{% elif os.network.controller == 'odl' %}
    - - nova-compute:neutron-plugin
      - openvswitch-odl:neutron-plugin
    - - neutron-gateway
      - openvswitch-odl
    - - openvswitch-odl:ovsdb-manager
      - odl-controller:ovsdb-manager
    - - neutron-api-odl:odl-controller
      - odl-controller:controller-api
{% endif %}
