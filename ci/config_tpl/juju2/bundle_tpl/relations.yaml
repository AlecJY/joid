    - [ 'nova-compute:amqp', 'rabbitmq-server:amqp' ]
{% if os.network.controller != 'ocl' %}
    - [ 'neutron-gateway:amqp', 'rabbitmq-server:amqp' ]
    - [ 'neutron-gateway:neutron-plugin-api', 'neutron-api:neutron-plugin-api' ]
    - [ 'nova-cloud-controller:quantum-network-service', 'neutron-gateway:quantum-network-service' ]
    - [ 'heat:shared-db', 'mysql:shared-db' ]
    - [ 'heat:identity-service', 'keystone:identity-service' ]
    - [ 'heat:amqp', 'rabbitmq-server:amqp' ]
    - [ 'ceilometer:amqp', 'rabbitmq-server:amqp' ]
    - [ 'ceilometer-agent:ceilometer-service', 'ceilometer:ceilometer-service' ]
    - [ 'ceilometer:identity-service', 'keystone:identity-service' ]
    - [ 'ceilometer:identity-notifications', 'keystone:identity-notifications' ]
    - [ 'ceilometer-agent:nova-ceilometer', 'nova-compute:nova-ceilometer' ]
    - [ 'ceilometer:shared-db', 'mongodb:database' ]
{% endif %}
    - [ 'keystone:shared-db', 'mysql:shared-db' ]
    - [ 'nova-cloud-controller:identity-service', 'keystone:identity-service' ]
    - [ 'glance:identity-service', 'keystone:identity-service' ]
    - [ 'neutron-api:identity-service', 'keystone:identity-service' ]
    - [ 'neutron-api:shared-db', 'mysql:shared-db' ]
    - [ 'neutron-api:amqp', 'rabbitmq-server:amqp' ]
    - [ 'glance:shared-db', 'mysql:shared-db' ]
    - [ 'glance:amqp', 'rabbitmq-server:amqp' ]
    - [ 'nova-cloud-controller:image-service', 'glance:image-service' ]
    - [ 'nova-compute:image-service', 'glance:image-service' ]
    - [ 'nova-cloud-controller:cloud-compute', 'nova-compute:cloud-compute' ]
    - [ 'nova-cloud-controller:amqp', 'rabbitmq-server:amqp' ]
    - [ 'openstack-dashboard:identity-service', 'keystone:identity-service' ]
    - [ 'nova-cloud-controller:shared-db', 'mysql:shared-db' ]
    - [ 'nova-cloud-controller:neutron-api', 'neutron-api:neutron-api' ]
    - [ 'cinder:image-service', 'glance:image-service' ]
    - [ 'cinder:amqp', 'rabbitmq-server:amqp' ]
    - [ 'cinder:identity-service', 'keystone:identity-service' ]
    - [ 'cinder:cinder-volume-service', 'nova-cloud-controller:cinder-volume-service' ]
    - [ 'cinder:shared-db', 'mysql:shared-db' ]
{% if opnfv.storage_dict.scaleio is defined %}
    - [ 'cinder:storage-backend', 'scaleio-openstack:storage-backend' ]
    - [ 'scaleio-mdm:scaleio-sds', 'scaleio-sds:scaleio-sds' ]
#    - [ 'scaleio-mdm:scaleio-sds', 'scaleio-sds-pd2:scaleio-sds' ]
    - [ 'scaleio-mdm:scaleio-mdm', 'scaleio-sdc:scaleio-mdm' ]
    - [ 'scaleio-mdm:scaleio-mdm', 'scaleio-gw:scaleio-mdm' ]
    - [ 'scaleio-openstack:scaleio-gw', 'scaleio-gw:scaleio-gw' ]
    - [ 'nova-compute:ephemeral-backend', 'scaleio-openstack:ephemeral-backend' ]
{% else %}
    - [ 'cinder-ceph:storage-backend', 'cinder:storage-backend' ]
    - [ 'nova-compute:ceph-access', 'cinder-ceph:ceph-access' ]
    - [ 'ceph-mon:client', 'nova-compute:ceph' ]
    - [ 'ceph-mon:client', 'cinder-ceph:ceph' ]
    - [ 'ceph-mon:client', 'glance:ceph' ]
    - [ 'ceph-osd:mon', 'ceph-mon:osd' ]
    - [ 'ceph-radosgw:mon', 'ceph-mon:radosgw' ]
    - [ 'ceph-radosgw:identity-service', 'keystone:identity-service' ]
{% if os.service.congress %}
    - [ 'congress:shared-db', 'mysql:shared-db' ]
    - [ 'congress:identity-service', 'keystone:identity-service' ]
    - [ 'congress:amqp', 'rabbitmq-server:amqp' ]
{% endif %}
{% endif %}
    - [ 'aodh:amqp', 'rabbitmq-server:amqp' ]
    - [ 'aodh:shared-db', 'mysql:shared-db' ]
    - [ 'aodh:identity-service', 'keystone:identity-service' ]
{% if os.lxd %}
    - [ 'nova-compute:lxd', 'lxd:lxd' ]
{% endif %}
{% if os.network.controller == 'nosdn' %}
    - [ 'neutron-openvswitch:amqp', 'rabbitmq-server:amqp' ]
    - [ 'nova-compute:neutron-plugin', 'neutron-openvswitch:neutron-plugin' ]
    - [ 'neutron-openvswitch:neutron-plugin-api', 'neutron-api:neutron-plugin-api' ]
{% elif os.network.controller == 'odl' %}
    - [ 'neutron-api:neutron-plugin-api-subordinate', 'neutron-api-odl:neutron-plugin-api-subordinate' ]
    - [ 'nova-compute:neutron-plugin', 'openvswitch-odl:neutron-plugin' ]
    - [ 'neutron-gateway', 'openvswitch-odl' ]
    - [ 'openvswitch-odl:ovsdb-manager', 'odl-controller:ovsdb-manager' ]
    - [ 'neutron-api-odl:odl-controller', 'odl-controller:controller-api' ]
{% elif os.network.controller == 'onos' %}
    - [ 'neutron-api:neutron-plugin-api-subordinate', 'neutron-api-onos:neutron-plugin-api-subordinate' ]
    - [ 'nova-compute:neutron-plugin', 'openvswitch-onos:neutron-plugin' ]
    - [ 'neutron-gateway', 'openvswitch-onos' ]
    - [ 'openvswitch-onos:ovsdb-manager', 'onos-controller:ovsdb-manager' ]
    - [ 'neutron-api-onos:onos-controller', 'onos-controller:controller-api' ]
{% elif os.network.controller == 'ocl' %}
    - [ 'contrail-keystone-auth', 'keystone' ]
    - [ 'contrail-controller', 'contrail-keystone-auth' ]
    - [ 'contrail-analytics', 'contrail-analyticsdb' ]
    - [ 'contrail-controller', 'contrail-analytics' ]
    - [ 'contrail-controller', 'contrail-analyticsdb' ]
    - [ 'contrail-openstack', 'nova-compute' ]
    - [ 'contrail-openstack', 'neutron-api' ]
    - [ 'contrail-openstack', 'contrail-controller' ]
    - [ 'contrail-agent:juju-info', 'nova-compute:juju-info' ]
    - [ 'contrail-agent', 'contrail-controller']
{% endif %}
